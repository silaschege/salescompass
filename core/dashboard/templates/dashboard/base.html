{% extends 'core/base_module.html' %}

{% block title %}Dashboard | SalesCompass{% endblock %}

{% block extra_css %}
<style>
    /* Dashboard Specific Styles */
    .widget-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1.5rem;
        padding: 1.5rem;
    }

    .widget-card {
        background: white;
        border-radius: 1rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        transition: transform 0.2s, box-shadow 0.2s;
        height: 100%;
        display: flex;
        flex-direction: column;
    }

    .widget-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.1);
    }
</style>
{% endblock %}

{% block module_nav %}
<a class="nav-link ms-3" href="{% url 'dashboard:cockpit' %}">
    <i class="bi bi-speedometer2"></i> Cockpit
</a>
<a class="nav-link ms-3" href="{% url 'dashboard:bi_dashboard' %}">
    <i class="bi bi-graph-up-arrow"></i> BI Suite
</a>
<a class="nav-link ms-3" href="{% url 'dashboard:builder' %}">
    <i class="bi bi-tools"></i> Builder
</a>

{% if user.role.name == 'Admin' or user.is_superuser %}
<div class="nav-section-label mt-3">Admin</div>
<a class="nav-link ms-3" href="{% url 'dashboard:admin_dashboard' %}">
    <i class="bi bi-shield-lock"></i> Admin Overview
</a>
{% endif %}

{% if user.role.name == 'Manager' or user.role.name == 'Admin' or user.is_superuser %}
<div class="nav-section-label mt-3">Management</div>
<a class="nav-link ms-3" href="{% url 'dashboard:manager_dashboard' %}">
    <i class="bi bi-briefcase"></i> Manager View
</a>
{% endif %}

{% if user.role.name == 'Support' or user.role.name == 'Admin' or user.is_superuser %}
<div class="nav-section-label mt-3">Support</div>
<a class="nav-link ms-3" href="{% url 'dashboard:support_dashboard' %}">
    <i class="bi bi-headset"></i> Support View
</a>
{% endif %}
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
{% endblock %}