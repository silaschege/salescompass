{% if is_dynamic %}
<div class="card widget-dynamic h-100">
    <div class="card-body d-flex flex-column justify-content-center align-items-center text-center">
        <h6 class="text-muted mb-3">{{ dynamic_data.label }}</h6>
        <h2 class="display-4 fw-bold text-primary mb-0">{{ dynamic_data.value }}</h2>
        {% if dynamic_data.filters_applied > 0 %}
        <small class="text-muted mt-2">
            <i class="bi bi-funnel"></i> {{ dynamic_data.filters_applied }} filter{{
            dynamic_data.filters_applied|pluralize }} applied
        </small>
        {% endif %}
    </div>
</div>
{% else %}
<div class="card widget-infrastructure h-100">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="mb-0"><i class="bi bi-hdd-network"></i> Infrastructure</h5>
        <span class="badge bg-info">{{ server_count }} Servers</span>
    </div>
    <div class="card-body">
        <div class="mb-3">
            <label class="small text-muted mb-1">CPU Usage</label>
            <div class="progress" style="height: 10px;">
                <div class="progress-bar bg-success" role="progressbar" style="width: {{ avg_cpu_usage }}%"></div>
            </div>
            <small class="text-end d-block">{{ avg_cpu_usage }}%</small>
        </div>
        <div class="mb-3">
            <label class="small text-muted mb-1">Memory Usage</label>
            <div class="progress" style="height: 10px;">
                <div class="progress-bar bg-warning" role="progressbar" style="width: {{ avg_memory_usage }}%"></div>
            </div>
            <small class="text-end d-block">{{ avg_memory_usage }}%</small>
        </div>
    </div>
</div>
{% endif %}