{% extends 'developer/base.html' %}
{% load static %}

{% block title %}Developer Portal - SalesCompass{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <h1 class="h3 mb-4">Developer Portal</h1>

            <div class="row">
                <!-- API Documentation Card -->
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">
                                <svg width="24" height="24" fill="currentColor" class="me-2">
                                    <path
                                        d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2zm10 1v12H4V2h8z" />
                                    <path d="M6 6h4v1H6V6zm0 2h4v1H6V8zm0 2h4v1H6v-1z" />
                                </svg>
                                API Documentation
                            </h5>
                            <p class="card-text">Interactive API documentation with Swagger UI and Redoc.</p>
                            <a href="{{ api_docs_url }}" class="btn btn-primary" target="_blank">Swagger UI</a>
                            <a href="{{ redoc_url }}" class="btn btn-outline-primary mt-2" target="_blank">Redoc</a>
                        </div>
                    </div>
                </div>

                <!-- API Keys Card -->
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">
                                <svg width="24" height="24" fill="currentColor" class="me-2">
                                    <path
                                        d="M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 17 6.5 18.5 8 20 6.5 21.5 8 23 6.5 24 7.5v.5a.5.5 0 0 1-.5.5h-7.038a3.5 3.5 0 0 1-3.462 4z" />
                                </svg>
                                API Keys
                            </h5>
                            <p class="card-text">Manage your API keys for programmatic access.</p>
                            <a href="{% url 'developer:api_keys' %}" class="btn btn-primary">Manage Keys</a>
                        </div>
                    </div>
                </div>

                <!-- Webhooks Card -->
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">
                                <svg width="24" height="24" fill="currentColor" class="me-2">
                                    <path
                                        d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.93 6.588l-7.857 3.428A.5.5 0 0 1 3 9.5v-3a.5.5 0 0 1 .073-.262l7.857-3.428A.5.5 0 0 1 12 3.5v3a.5.5 0 0 1-.07.262z" />
                                </svg>
                                Webhooks
                            </h5>
                            <p class="card-text">Configure webhooks for real-time event notifications.</p>
                            <a href="{% url 'developer:webhooks' %}" class="btn btn-primary">Manage Webhooks</a>
                        </div>
                    </div>
                </div>

                <!-- Usage Analytics Card -->
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">
                                <svg width="24" height="24" fill="currentColor" class="me-2">
                                    <path
                                        d="M0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zM2 3a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 0-1h-11A.5.5 0 0 0 2 3zm2-2a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7A.5.5 0 0 0 4 1z" />
                                </svg>
                                Usage Analytics
                            </h5>
                            <p class="card-text">View API usage statistics and webhook delivery performance.</p>
                            <a href="{% url 'developer:analytics' %}" class="btn btn-primary">View Analytics</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Getting Started Section -->
            <div class="card mt-4">
                <div class="card-header">
                    <h5 class="mb-0">Getting Started</h5>
                </div>
                <div class="card-body">
                    <h6>Quick Start Guide</h6>
                    <ol>
                        <li><strong>Generate an API Key:</strong> Navigate to the API Keys section and create a new key
                            with the required permissions.</li>
                        <li><strong>Explore the API:</strong> Visit the <a href="{{ api_docs_url }}"
                                target="_blank">Swagger UI</a> to see all available endpoints and test API calls.</li>
                        <li><strong>Set up Webhooks (Optional):</strong> Configure webhooks to receive real-time
                            notifications for events like lead creation or opportunity wins.</li>
                        <li><strong>Make Your First Request:</strong> Use your API key in the <code>Authorization</code>
                            header to authenticate API requests.</li>
                    </ol>

                    <h6 class="mt-4">Example Request</h6>
                    <pre class="bg-light p-3 rounded"><code>curl -H "Authorization: Bearer YOUR_API_KEY" \
     {{ request.scheme }}://{{ request.get_host }}/api/leads/</code></pre>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}