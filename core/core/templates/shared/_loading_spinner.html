<div id="loading-overlay"
    class="position-fixed top-0 start-0 w-100 h-100 d-none justify-content-center align-items-center"
    style="background: rgba(255,255,255,0.7); z-index: 9999;">
    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>

<script>
    document.addEventListener('submit', function (e) {
        if (e.target.tagName === 'FORM' && !e.target.hasAttribute('data-no-loader')) {
            document.getElementById('loading-overlay').classList.replace('d-none', 'd-flex');
        }
    });

    window.addEventListener('pageshow', function (event) {
        if (event.persisted) {
            document.getElementById('loading-overlay').classList.replace('d-flex', 'd-none');
        }
    });
</script>