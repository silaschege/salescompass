{% extends "public/base.html" %}
{% load static %}

{% block title %}API Documentation - SalesCompass{% endblock %}

{% block content %}
<!-- API Hero -->
<section class="section-large bg-gray-900 text-white position-relative overflow-hidden">
    <div class="container position-relative z-1">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <div
                    class="d-inline-flex align-items-center gap-3 mb-4 bg-white bg-opacity-10 rounded-pill px-3 py-1 border border-white border-opacity-10">
                    <span class="badge bg-primary">v2.4</span>
                    <code class="text-white-50 extra-small">api.salescompass.ai</code>
                </div>
                <h1 class="display-3 fw-extrabold mb-4 text-white">Developer <span
                        class="text-gradient-purple">API</span></h1>
                <p class="lead text-white-50 mb-0">The engine behind the world's most intelligent revenue operations.
                </p>
            </div>
            <div class="col-lg-4 text-end d-none d-lg-block opacity-25">
                <i class="bi bi-terminal-fill display-1"></i>
            </div>
        </div>
    </div>
</section>

<!-- Docs Layout -->
<section class="section bg-white border-top border-light py-0">
    <div class="container-fluid px-lg-6">
        <div class="row">

            <!-- Sidebar Navigation -->
            <div class="col-lg-3 border-end border-light py-8 d-none d-lg-block">
                <div class="sticky-top" style="top: 100px;">
                    <h6 class="text-uppercase text-muted fw-bold extra-small mb-4 tracking-widest">Introduction</h6>
                    <nav class="nav flex-column gap-2 mb-8">
                        <a href="#getting-started" class="nav-link p-0 small fw-medium text-dark active">Getting
                            Started</a>
                        <a href="#authentication" class="nav-link p-0 small text-muted hover-primary">Authentication</a>
                        <a href="#rate-limits" class="nav-link p-0 small text-muted hover-primary">Rate Limits</a>
                    </nav>

                    <h6 class="text-uppercase text-muted fw-bold extra-small mb-4 tracking-widest">Core Resources</h6>
                    <nav class="nav flex-column gap-2">
                        <a href="#leads" class="nav-link p-0 small text-muted hover-primary">Leads & Scoring</a>
                        <a href="#deals" class="nav-link p-0 small text-muted hover-primary">Deals & Probability</a>
                        <a href="#events" class="nav-link p-0 small text-muted hover-primary">Engagement Events</a>
                        <a href="#webhooks" class="nav-link p-0 small text-muted hover-primary">Webhooks</a>
                    </nav>
                </div>
            </div>

            <!-- Documentation Content -->
            <div class="col-lg-9 py-8 ps-lg-6">

                <!-- Getting Started -->
                <article id="getting-started" class="mb-12">
                    <h2 class="fw-extrabold mb-4">Getting Started</h2>
                    <p class="text-muted mb-6">
                        The SalesCompass API is a RESTful interface designed for developers who need to extend
                        or automate their revenue operations. We use standard HTTP verbs, resource-oriented URLs,
                        and return JSON-encoded responses.
                    </p>
                    <div class="card-clean p-5 bg-light mb-4">
                        <h6 class="fw-bold mb-3">API Base URL</h6>
                        <div class="bg-dark rounded-3 p-4 font-monospace">
                            <code class="text-warning small">https://api.salescompass.ai/v1</code>
                        </div>
                    </div>
                </article>

                <!-- Authentication -->
                <article id="authentication" class="mb-12 pt-8 border-top border-light">
                    <h2 class="fw-extrabold mb-4">Authentication</h2>
                    <p class="text-muted mb-6">
                        All requests must include a valid API token in the Authorization header.
                        You can generate your keys in the dashboard under Settings > Developer.
                    </p>
                    <div class="bg-gray-900 rounded-4 p-5 mb-5 shadow-lg">
                        <div class="d-flex justify-content-between mb-4">
                            <span class="badge bg-white bg-opacity-10 text-white-50">Shell / cURL</span>
                            <button
                                class="btn btn-link btn-sm text-white-50 p-0 text-decoration-none small">Copy</button>
                        </div>
                        <pre class="mb-0 font-monospace"><code class="text-light">curl -X GET "https://api.salescompass.ai/v1/leads" \
  -H "Authorization: Bearer <span class="text-warning">sk_live_51P...</span>" \
  -H "Content-Type: application/json"</code></pre>
                    </div>
                    <div class="alert alert-warning border-0 bg-warning bg-opacity-10 d-flex align-items-center gap-3">
                        <i class="bi bi-shield-lock-fill fs-4"></i>
                        <div class="small">
                            <strong>Security Best Practice:</strong> Never commit your secret keys to public
                            repositories. Use environment variables.
                        </div>
                    </div>
                </article>

                <!-- Leads Resource -->
                <article id="leads" class="mb-12 pt-8 border-top border-light">
                    <h2 class="fw-extrabold mb-4">Leads & Scoring</h2>
                    <p class="text-muted mb-6">Retrieve lead intelligence data, including ML-calculated scores and
                        propensity to buy.</p>

                    <!-- GET Leads -->
                    <div class="card-clean border-light overflow-hidden mb-6">
                        <div class="bg-light px-4 py-3 border-bottom d-flex align-items-center gap-3">
                            <span class="badge bg-success">GET</span>
                            <code class="fw-bold text-dark">/leads</code>
                        </div>
                        <div class="p-5">
                            <h6 class="fw-bold small mb-3">Attributes</h6>
                            <div class="table-responsive">
                                <table class="table table-sm table-borderless align-middle mb-0">
                                    <thead class="border-bottom border-light">
                                        <tr>
                                            <th class="extra-small text-muted py-2">Property</th>
                                            <th class="extra-small text-muted py-2">Type</th>
                                            <th class="extra-small text-muted py-2">Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code class="text-primary">limit</code></td>
                                            <td><span class="text-muted small">integer</span></td>
                                            <td class="small text-muted">Number of results to return (max 100).</td>
                                        </tr>
                                        <tr>
                                            <td><code class="text-primary">status</code></td>
                                            <td><span class="text-muted small">string</span></td>
                                            <td class="small text-muted">Filter by lead status (new, qualified,
                                                disqualified).</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- POST Lead -->
                    <div class="card-clean border-light overflow-hidden">
                        <div class="bg-light px-4 py-3 border-bottom d-flex align-items-center gap-3">
                            <span class="badge bg-primary">POST</span>
                            <code class="fw-bold text-dark">/leads</code>
                        </div>
                        <div class="p-0 bg-gray-900">
                            <pre class="m-0 p-5 font-monospace"><code class="text-light">{
  "email": "jane@example.com",
  "first_name": "Jane",
  "source": "api_integration",
  "meta": {
    "campaign": "winter_promo"
  }
}</code></pre>
                        </div>
                    </div>
                </article>

            </div>
        </div>
    </div>
</section>

<!-- Final CTA -->
<section class="section-large text-center bg-gray-900">
    <div class="container py-4">
        <h2 class="fw-extrabold text-white mb-4">Ready to build?</h2>
        <p class="text-white-50 mb-6 mx-auto" style="max-width: 500px;">
            Join 5,000+ developers building on the SalesCompass platform.
        </p>
        <a href="{% url 'core:company' %}" class="btn btn-primary px-5 btn-lg">Contact Partners Team</a>
    </div>
</section>
{% endblock %}