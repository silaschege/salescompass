# Generated by Django 5.2.9 on 2026-01-09 06:03

import django.db.models.deletion
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('accounts', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='ChatMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('channel', models.CharField(choices=[('whatsapp', 'WhatsApp'), ('website_chat', 'Website Chat'), ('slack', 'Slack'), ('messenger', 'Messenger')], max_length=50)),
                ('sender_name', models.CharField(max_length=255)),
                ('message', models.TextField()),
                ('external_id', models.CharField(blank=True, help_text='ID from the external platform', max_length=255, null=True)),
                ('metadata', models.JSONField(blank=True, default=dict)),
                ('received_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Chat Message',
                'verbose_name_plural': 'Chat Messages',
            },
        ),
        migrations.CreateModel(
            name='CommunicationHistory',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('communication_type', models.CharField(choices=[('email', 'Email'), ('sms', 'SMS'), ('push', 'Push Notification'), ('in_app', 'In-App Notification'), ('webhook', 'Webhook'), ('slack', 'Slack'), ('microsoft_teams', 'Microsoft Teams'), ('discord', 'Discord')], max_length=50)),
                ('direction', models.CharField(choices=[('inbound', 'Inbound'), ('outbound', 'Outbound')], default='outbound', max_length=10)),
                ('recipient', models.CharField(help_text='Recipient of the communication (email, phone number, etc.)', max_length=255)),
                ('subject', models.CharField(help_text='Subject of the communication', max_length=255)),
                ('content_html', models.TextField(help_text='HTML content of the communication')),
                ('content_text', models.TextField(help_text='Plain text content of the communication')),
                ('status', models.CharField(choices=[('queued', 'Queued'), ('sent', 'Sent'), ('delivered', 'Delivered'), ('failed', 'Failed'), ('bounced', 'Bounced'), ('opened', 'Opened'), ('clicked', 'Clicked')], default='queued', max_length=20)),
                ('sent_at', models.DateTimeField(blank=True, help_text='When the communication was sent', null=True)),
                ('delivered_at', models.DateTimeField(blank=True, help_text='When the communication was delivered', null=True)),
                ('opened_at', models.DateTimeField(blank=True, help_text='When the communication was opened', null=True)),
                ('clicked_at', models.DateTimeField(blank=True, help_text='When links in the communication were clicked', null=True)),
                ('error_message', models.TextField(blank=True, help_text='Error message if the communication failed')),
                ('response_code', models.IntegerField(blank=True, help_text='Response code from the service provider', null=True)),
                ('response_message', models.TextField(blank=True, help_text='Response message from the service provider')),
                ('tags', models.JSONField(blank=True, default=list, help_text='Tags for organizing communications')),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional metadata about the communication')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Communication History',
                'verbose_name_plural': 'Communication Histories',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CustomerSupportTicket',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('subject', models.CharField(help_text='Subject of the ticket', max_length=255)),
                ('description', models.TextField(help_text='Detailed description of the issue')),
                ('ticket_type', models.CharField(choices=[('technical_issue', 'Technical Issue'), ('feature_request', 'Feature Request'), ('billing_inquiry', 'Billing Inquiry'), ('account_question', 'Account Question'), ('security_concern', 'Security Concern'), ('feedback', 'Feedback'), ('complaint', 'Complaint'), ('other', 'Other')], max_length=50)),
                ('priority', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('urgent', 'Urgent'), ('critical', 'Critical')], default='medium', max_length=20)),
                ('status', models.CharField(choices=[('open', 'Open'), ('in_progress', 'In Progress'), ('on_hold', 'On Hold'), ('resolved', 'Resolved'), ('closed', 'Closed'), ('duplicate', 'Duplicate'), ('wont_fix', "Won't Fix")], default='open', max_length=20)),
                ('source', models.CharField(choices=[('email', 'Email'), ('web_form', 'Web Form'), ('api', 'API'), ('chat', 'Chat'), ('phone', 'Phone'), ('social_media', 'Social Media')], default='web_form', max_length=50)),
                ('related_objects', models.JSONField(blank=True, default=list, help_text='Related objects (e.g., accounts, leads, opportunities)')),
                ('tags', models.JSONField(blank=True, default=list, help_text='Tags for organizing tickets')),
                ('internal_notes', models.TextField(blank=True, help_text='Internal notes about the ticket')),
                ('resolution_notes', models.TextField(blank=True, help_text='Notes about how the ticket was resolved')),
                ('resolution_type', models.CharField(blank=True, choices=[('fixed', 'Fixed'), ('workaround', 'Workaround Provided'), ('answered', 'Question Answered'), ('feature_implemented', 'Feature Implemented'), ('wont_do', "Won't Do"), ('duplicate', 'Duplicate')], max_length=50, null=True)),
                ('resolved_at', models.DateTimeField(blank=True, null=True)),
                ('closed_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('first_response_at', models.DateTimeField(blank=True, help_text='When the ticket first received a response', null=True)),
                ('sla_deadline', models.DateTimeField(blank=True, help_text='SLA deadline for responding to the ticket', null=True)),
                ('sla_met', models.BooleanField(blank=True, help_text='Whether the SLA was met for this ticket', null=True)),
                ('satisfaction_rating', models.IntegerField(blank=True, choices=[(1, 1), (2, 2), (3, 3), (4, 4), (5, 5)], help_text='Satisfaction rating from 1-5', null=True)),
                ('satisfaction_comment', models.TextField(blank=True, help_text='Comment about the satisfaction rating')),
            ],
            options={
                'verbose_name': 'Customer Support Ticket',
                'verbose_name_plural': 'Customer Support Tickets',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Email',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('direction', models.CharField(choices=[('inbound', 'Inbound'), ('outbound', 'Outbound')], default='outbound', max_length=10)),
                ('email_name', models.CharField(help_text='Name/title of the email', max_length=255)),
                ('subject', models.CharField(help_text='Subject line of the email', max_length=255)),
                ('recipients', models.JSONField(default=list, help_text='List of recipient email addresses')),
                ('cc', models.JSONField(blank=True, default=list, help_text='List of CC email addresses')),
                ('bcc', models.JSONField(blank=True, default=list, help_text='List of BCC email addresses')),
                ('content_html', models.TextField(help_text='HTML content of the email')),
                ('content_text', models.TextField(help_text='Plain text content of the email')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('queued', 'Queued'), ('sending', 'Sending'), ('sent', 'Sent'), ('delivered', 'Delivered'), ('opened', 'Opened'), ('failed', 'Failed'), ('bounced', 'Bounced'), ('blocked', 'Blocked')], default='draft', max_length=20)),
                ('priority', models.CharField(choices=[('low', 'Low'), ('normal', 'Normal'), ('high', 'High'), ('urgent', 'Urgent')], default='normal', max_length=10)),
                ('is_read_receipt_requested', models.BooleanField(default=False, help_text='Whether to request a read receipt')),
                ('is_reply_to_different', models.BooleanField(default=False, help_text='Whether reply-to is different from sender')),
                ('reply_to_email', models.EmailField(blank=True, help_text='Reply-to email address if different from sender', max_length=254)),
                ('attachments', models.JSONField(blank=True, default=list, help_text='List of attachment file paths/URLs')),
                ('send_at', models.DateTimeField(blank=True, help_text='Scheduled time to send the email', null=True)),
                ('sent_at', models.DateTimeField(blank=True, help_text='Actual time the email was sent', null=True)),
                ('delivered_at', models.DateTimeField(blank=True, help_text='Time the email was delivered', null=True)),
                ('opened_at', models.DateTimeField(blank=True, help_text='Time the email was opened', null=True)),
                ('clicked_at', models.DateTimeField(blank=True, help_text='Time the email was clicked', null=True)),
                ('error_message', models.TextField(blank=True, help_text='Error message if email failed to send')),
                ('service_used', models.CharField(blank=True, help_text='Email service used to send (e.g., smtp, sendgrid)', max_length=50)),
                ('tracking_enabled', models.BooleanField(default=True, help_text='Whether to track opens/clicks for this email')),
                ('tracking_id', models.CharField(blank=True, max_length=100, null=True, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Email',
                'verbose_name_plural': 'Emails',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='EmailSignature',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="Name of the signature (e.g., 'Professional', 'Informal')", max_length=100)),
                ('content_html', models.TextField(help_text='HTML content of the signature')),
                ('is_default', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Email Signature',
                'verbose_name_plural': 'Email Signatures',
            },
        ),
        migrations.CreateModel(
            name='EmailSMSServiceConfiguration',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(help_text='Name for this configuration', max_length=255)),
                ('service_provider', models.CharField(choices=[('smtp', 'SMTP Server'), ('sendgrid', 'SendGrid'), ('mailgun', 'Mailgun'), ('twilio', 'Twilio'), ('aws_sns', 'AWS SNS'), ('firebase', 'Firebase Messaging'), ('custom_api', 'Custom API')], max_length=100)),
                ('configuration', models.JSONField(blank=True, default=dict, help_text='Configuration settings for the service')),
                ('is_active', models.BooleanField(default=True, help_text='Whether this service configuration is active')),
                ('is_primary', models.BooleanField(default=False, help_text='Whether this is the primary service for its type')),
                ('service_type', models.CharField(choices=[('email', 'Email'), ('sms', 'SMS'), ('both', 'Both Email and SMS')], max_length=20)),
                ('rate_limit_requests', models.IntegerField(default=100, help_text='Number of requests allowed per time period')),
                ('rate_limit_period_seconds', models.IntegerField(default=60, help_text='Time period for rate limiting in seconds')),
                ('retry_attempts', models.IntegerField(default=3, help_text='Number of retry attempts for failed messages')),
                ('retry_delay_seconds', models.IntegerField(default=5, help_text='Delay between retry attempts in seconds')),
                ('encryption_enabled', models.BooleanField(default=True, help_text='Whether to encrypt sensitive configuration data')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('last_tested', models.DateTimeField(blank=True, help_text='When this configuration was last tested', null=True)),
                ('last_test_result', models.CharField(choices=[('success', 'Success'), ('failure', 'Failure'), ('pending', 'Pending')], default='pending', max_length=20)),
                ('last_test_error', models.TextField(blank=True, help_text='Error from last test if it failed')),
                ('tags', models.JSONField(blank=True, default=list, help_text='Tags for organizing configurations')),
                ('notes', models.TextField(blank=True, help_text='Internal notes about this configuration')),
            ],
            options={
                'verbose_name': 'Email/SMS Service Configuration',
                'verbose_name_plural': 'Email/SMS Service Configurations',
                'ordering': ['-is_primary', 'name'],
            },
        ),
        migrations.CreateModel(
            name='FeedbackAndSurvey',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('title', models.CharField(help_text='Title of the feedback form or survey', max_length=255)),
                ('description', models.TextField(blank=True, help_text='Description of the feedback form or survey')),
                ('feedback_type', models.CharField(choices=[('nps', 'Net Promoter Score'), ('csat', 'Customer Satisfaction'), ('ces', 'Customer Effort Score'), ('general_feedback', 'General Feedback'), ('product_feedback', 'Product Feedback'), ('feature_request', 'Feature Request'), ('bug_report', 'Bug Report'), ('survey', 'Custom Survey'), ('review', 'Review')], max_length=50)),
                ('is_active', models.BooleanField(default=True, help_text='Whether this feedback form/survey is active')),
                ('is_anonymous', models.BooleanField(default=False, help_text='Whether responses are anonymous')),
                ('collect_user_data', models.BooleanField(default=True, help_text='Whether to collect user identification data')),
                ('target_audience', models.CharField(choices=[('all_users', 'All Users'), ('specific_tenant', 'Specific Tenant'), ('specific_role', 'Specific Role'), ('customers', 'Customers Only'), ('internal_users', 'Internal Users Only')], default='all_users', max_length=50)),
                ('role_target', models.CharField(blank=True, help_text='Specific role this targets if applicable', max_length=100)),
                ('start_date', models.DateTimeField(help_text='When the feedback collection starts')),
                ('end_date', models.DateTimeField(blank=True, help_text='When the feedback collection ends (optional)', null=True)),
                ('redirect_url', models.URLField(blank=True, help_text='URL to redirect after submission')),
                ('confirmation_message', models.TextField(default='Thank you for your feedback!', help_text='Message to show after submission')),
                ('questions', models.JSONField(blank=True, default=list, help_text='Questions in the survey/feedback form')),
                ('response_count', models.IntegerField(default=0, help_text='Number of responses received')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tags', models.JSONField(blank=True, default=list, help_text='Tags for organizing feedback forms')),
                ('notes', models.TextField(blank=True, help_text='Internal notes about this feedback form')),
            ],
            options={
                'verbose_name': 'Feedback and Survey',
                'verbose_name_plural': 'Feedback and Surveys',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Meeting',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('meeting_name', models.CharField(help_text='Name/title of the meeting', max_length=255)),
                ('meeting_description', models.TextField(blank=True, help_text='Description of the meeting')),
                ('meeting_type', models.CharField(choices=[('online', 'Online'), ('offline', 'Offline'), ('hybrid', 'Hybrid'), ('video_conference', 'Video Conference'), ('audio_only', 'Audio Only'), ('screen_sharing', 'Screen Sharing')], help_text='Type of meeting', max_length=20)),
                ('location', models.CharField(blank=True, help_text='Location of the meeting (physical or virtual)', max_length=500)),
                ('start_time', models.DateTimeField(help_text='When the meeting starts')),
                ('end_time', models.DateTimeField(help_text='When the meeting ends')),
                ('attendees', models.JSONField(default=list, help_text='List of attendee user IDs or emails')),
                ('invitees', models.JSONField(blank=True, default=list, help_text='List of invited user IDs or emails')),
                ('is_confirmed', models.BooleanField(default=True, help_text='Whether the meeting is confirmed')),
                ('is_recurring', models.BooleanField(default=False, help_text='Whether this is a recurring meeting')),
                ('recurrence_pattern', models.JSONField(blank=True, default=dict, help_text='Recurrence pattern if recurring')),
                ('visibility', models.CharField(choices=[('private', 'Private'), ('public', 'Public'), ('protected', 'Protected')], default='private', max_length=10)),
                ('timezone', models.CharField(default='UTC', help_text='Timezone for the meeting', max_length=50)),
                ('meeting_link', models.URLField(blank=True, help_text='Link to join the online meeting')),
                ('meeting_id', models.CharField(blank=True, help_text='Meeting ID for conferencing tools', max_length=100)),
                ('meeting_password', models.CharField(blank=True, help_text='Meeting password if required', max_length=100)),
                ('agenda', models.TextField(blank=True, help_text='Meeting agenda')),
                ('notes', models.TextField(blank=True, help_text='Meeting notes')),
                ('attachments', models.JSONField(blank=True, default=list, help_text='List of attachment file paths/URLs')),
                ('related_object_type', models.CharField(blank=True, help_text='Type of object this meeting is related to', max_length=50)),
                ('related_object_id', models.CharField(blank=True, help_text='ID of the related object', max_length=50)),
                ('reminder_set', models.BooleanField(default=False, help_text='Whether a reminder has been set')),
                ('reminder_time_minutes', models.IntegerField(default=15, help_text='Minutes before meeting to send reminder')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Meeting',
                'verbose_name_plural': 'Meetings',
                'ordering': ['-start_time'],
            },
        ),
        migrations.CreateModel(
            name='NotificationTemplate',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(help_text='Name of the notification template', max_length=255)),
                ('description', models.TextField(blank=True, help_text='Description of when this template is used')),
                ('template_type', models.CharField(choices=[('email', 'Email'), ('sms', 'SMS'), ('push', 'Push Notification'), ('in_app', 'In-App Notification'), ('webhook', 'Webhook'), ('slack', 'Slack'), ('microsoft_teams', 'Microsoft Teams'), ('discord', 'Discord')], max_length=50)),
                ('subject', models.CharField(help_text='Subject line for email notifications', max_length=255)),
                ('body_html', models.TextField(help_text='HTML content of the notification')),
                ('body_text', models.TextField(help_text='Plain text version of the notification')),
                ('is_active', models.BooleanField(default=True, help_text='Whether this template is currently active')),
                ('is_default', models.BooleanField(default=False, help_text='Whether this is the default template for its type')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('variables', models.JSONField(blank=True, default=list, help_text='List of variables that can be used in the template')),
                ('tags', models.JSONField(blank=True, default=list, help_text='Tags for organizing templates')),
                ('notes', models.TextField(blank=True, help_text='Internal notes about this template')),
            ],
            options={
                'verbose_name': 'Notification Template',
                'verbose_name_plural': 'Notification Templates',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='SMS',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('direction', models.CharField(choices=[('inbound', 'Inbound'), ('outbound', 'Outbound')], default='outbound', max_length=10)),
                ('recipient_phone', models.CharField(help_text='Recipient phone number', max_length=20)),
                ('message', models.TextField(help_text='SMS content')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('queued', 'Queued'), ('sending', 'Sending'), ('sent', 'Sent'), ('delivered', 'Delivered'), ('failed', 'Failed')], default='draft', max_length=20)),
                ('scheduled_send_time', models.DateTimeField(blank=True, help_text='Scheduled time to send the SMS', null=True)),
                ('sent_at', models.DateTimeField(blank=True, null=True)),
                ('error_message', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'SMS',
                'verbose_name_plural': 'SMS Messages',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SocialMediaPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('platform', models.CharField(choices=[('twitter', 'Twitter'), ('linkedin', 'LinkedIn'), ('facebook', 'Facebook'), ('instagram', 'Instagram')], max_length=50)),
                ('post_id', models.CharField(blank=True, max_length=255)),
                ('content', models.TextField()),
                ('url', models.URLField(blank=True)),
                ('is_inmail', models.BooleanField(default=False)),
                ('metadata', models.JSONField(blank=True, default=dict)),
                ('posted_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Social Media Post',
                'verbose_name_plural': 'Social Media Posts',
            },
        ),
        migrations.CreateModel(
            name='WhatsAppConfiguration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="Configuration name (e.g., 'Main Business Line')", max_length=100)),
                ('phone_number', models.CharField(help_text='WhatsApp Business phone number with country code', max_length=20)),
                ('phone_number_id', models.CharField(blank=True, help_text='WhatsApp Phone Number ID from Meta', max_length=50)),
                ('business_account_id', models.CharField(blank=True, help_text='WhatsApp Business Account ID', max_length=50)),
                ('api_token', models.TextField(blank=True, help_text='Encrypted API access token')),
                ('webhook_verify_token', models.CharField(blank=True, help_text='Webhook verification token', max_length=100)),
                ('is_active', models.BooleanField(default=True)),
                ('is_primary', models.BooleanField(default=False, help_text='Primary number for outbound messages')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'WhatsApp Configuration',
                'verbose_name_plural': 'WhatsApp Configurations',
                'ordering': ['-is_primary', 'name'],
            },
        ),
        migrations.CreateModel(
            name='WhatsAppMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message_id', models.CharField(db_index=True, help_text='WhatsApp message ID (wamid)', max_length=100, unique=True)),
                ('direction', models.CharField(choices=[('inbound', 'Inbound'), ('outbound', 'Outbound')], max_length=10)),
                ('message_type', models.CharField(choices=[('text', 'Text'), ('template', 'Template'), ('image', 'Image'), ('document', 'Document'), ('audio', 'Audio'), ('video', 'Video'), ('location', 'Location'), ('contact', 'Contact'), ('interactive', 'Interactive')], default='text', max_length=20)),
                ('from_number', models.CharField(db_index=True, max_length=20)),
                ('to_number', models.CharField(db_index=True, max_length=20)),
                ('body', models.TextField(blank=True, help_text='Message text content')),
                ('caption', models.TextField(blank=True, help_text='Media caption if applicable')),
                ('media_url', models.URLField(blank=True, help_text='URL to media file', max_length=500)),
                ('media_mime_type', models.CharField(blank=True, max_length=100)),
                ('template_name', models.CharField(blank=True, help_text='WhatsApp template name if template message', max_length=100)),
                ('template_language', models.CharField(blank=True, default='en', max_length=10)),
                ('template_variables', models.JSONField(blank=True, default=list, help_text='Template variable values')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('sent', 'Sent'), ('delivered', 'Delivered'), ('read', 'Read'), ('failed', 'Failed')], default='pending', max_length=20)),
                ('error_code', models.CharField(blank=True, max_length=20)),
                ('error_message', models.TextField(blank=True)),
                ('sent_at', models.DateTimeField(blank=True, null=True)),
                ('delivered_at', models.DateTimeField(blank=True, null=True)),
                ('read_at', models.DateTimeField(blank=True, null=True)),
                ('wazo_data', models.JSONField(blank=True, default=dict, help_text='Raw Wazo/WhatsApp API response')),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional metadata')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'WhatsApp Message',
                'verbose_name_plural': 'WhatsApp Messages',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='WhatsAppTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('template_name', models.CharField(help_text="Template name (must match Meta's template name)", max_length=100)),
                ('template_id', models.CharField(blank=True, help_text='Meta template ID', max_length=50)),
                ('category', models.CharField(choices=[('marketing', 'Marketing'), ('utility', 'Utility'), ('authentication', 'Authentication')], default='utility', max_length=20)),
                ('language', models.CharField(default='en', max_length=10)),
                ('header_text', models.TextField(blank=True, help_text='Template header text')),
                ('body_text', models.TextField(help_text='Template body text with {{1}}, {{2}} placeholders')),
                ('footer_text', models.TextField(blank=True, help_text='Template footer text')),
                ('buttons', models.JSONField(blank=True, default=list, help_text='Button configurations')),
                ('variable_count', models.IntegerField(default=0, help_text='Number of variables in template')),
                ('variable_examples', models.JSONField(blank=True, default=list, help_text='Example values for variables')),
                ('status', models.CharField(choices=[('pending', 'Pending Approval'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='pending', max_length=20)),
                ('rejection_reason', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'WhatsApp Template',
                'verbose_name_plural': 'WhatsApp Templates',
                'ordering': ['category', 'template_name'],
            },
        ),
        migrations.CreateModel(
            name='CallLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('call_type', models.CharField(choices=[('incoming', 'Incoming'), ('outgoing', 'Outgoing'), ('missed', 'Missed'), ('voicemail', 'Voicemail')], help_text='Type of call', max_length=20)),
                ('direction', models.CharField(choices=[('inbound', 'Inbound'), ('outbound', 'Outbound')], max_length=10)),
                ('phone_number', models.CharField(help_text='Phone number', max_length=20)),
                ('contact_name', models.CharField(blank=True, help_text='Name of the contact', max_length=255)),
                ('duration_seconds', models.IntegerField(default=0, help_text='Duration of the call in seconds')),
                ('outcome', models.CharField(choices=[('answered', 'Answered'), ('no_answer', 'No Answer'), ('busy', 'Busy'), ('failed', 'Failed'), ('completed', 'Completed'), ('transferred', 'Transferred')], help_text='Result of the call', max_length=20)),
                ('recording_url', models.URLField(blank=True, help_text='URL to the call recording')),
                ('transcript', models.TextField(blank=True, help_text='Text transcript of the call')),
                ('notes', models.TextField(blank=True, help_text='Notes about the call')),
                ('follow_up_required', models.BooleanField(default=False, help_text='Whether follow-up is required')),
                ('related_object_type', models.CharField(blank=True, help_text='Type of object this call is related to', max_length=50)),
                ('related_object_id', models.CharField(blank=True, help_text='ID of the related object', max_length=50)),
                ('call_started_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('call_ended_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='calls', to='accounts.account')),
                ('contact', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='calls', to='accounts.contact')),
            ],
            options={
                'verbose_name': 'Call Log',
                'verbose_name_plural': 'Call Logs',
                'ordering': ['-call_started_at'],
            },
        ),
    ]
