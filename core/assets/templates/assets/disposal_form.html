{% extends "assets/base.html" %}
{% load crispy_forms_tags %}

{% block dashboard_content %}
<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Asset Retirement / Disposal</h6>
    </div>
    <div class="card-body">
        <div class="alert alert-warning">
            <i class="bi bi-exclamation-triangle"></i> Warning: Disposing of an asset will stop all future depreciation
            and record a gain/loss in the ledger.
        </div>
        <form method="post">
            {% csrf_token %}
            <div class="row">
                <div class="col-md-6">{{ form.asset|as_crispy_field }}</div>
                <div class="col-md-6">{{ form.disposal_date|as_crispy_field }}</div>
            </div>
            <div class="row">
                <div class="col-md-4">{{ form.disposal_method|as_crispy_field }}</div>
                <div class="col-md-4">{{ form.sale_price|as_crispy_field }}</div>
                <div class="col-md-4">{{ form.disposal_cost|as_crispy_field }}</div>
            </div>
            {{ form.reason|as_crispy_field }}
            <div class="mt-3">
                <button type="submit" class="btn btn-danger">Confirm Disposal</button>
                <a href="{% url 'assets:dashboard' %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}