{% extends "tenants/base.html" %}

{% block title %}Select Plan - SalesCompass{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold">Choose Your Plan</h1>
        <p class="lead text-muted">Scale your sales operations with the right set of tools.</p>
    </div>

    <div class="row row-cols-1 row-cols-md-3 mb-3 text-center justify-content-center">
        {% for plan in plans %}
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm {% if plan.name == 'Pro' %}border-primary{% endif %}">
                {% if plan.name == 'Pro' %}
                <div class="card-header py-3 text-white bg-primary border-primary">
                    <h4 class="my-0 fw-normal">{{ plan.name }}</h4>
                </div>
                {% else %}
                <div class="card-header py-3">
                    <h4 class="my-0 fw-normal">{{ plan.name }}</h4>
                </div>
                {% endif %}
                <div class="card-body">
                    <h1 class="card-title pricing-card-title">${{ plan.price }}<small
                            class="text-muted fw-light">/mo</small></h1>
                    <ul class="list-unstyled mt-3 mb-4">
                        <li>{{ plan.max_users }} Users</li>
                        <li>{{ plan.max_leads }} Leads</li>
                        <li>{{ plan.storage_limit_gb }}GB Storage</li>
                        {% if plan.features %}
                        {% for feature in plan.features %}
                        <li>{{ feature }}</li>
                        {% endfor %}
                        {% endif %}
                    </ul>
                    <a href="{% url 'tenants:provision' plan.id %}"
                        class="w-100 btn btn-lg {% if plan.name == 'Pro' %}btn-primary{% else %}btn-outline-primary{% endif %}">
                        {% if plan.price == 0 %}Start Free{% else %}Get Started{% endif %}
                    </a>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12">
            <div class="alert alert-warning">No plans available. Please contact support.</div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}