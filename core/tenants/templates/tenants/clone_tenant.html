{% extends 'tenants/base.html' %}

{% block title %}{{ title }} - SalesCompass{% endblock %}

{% block content %}
<div class="container-fluid">
  <div class="row mb-4">
    <div class="col">
      <h2><i class="bi bi-people me-2"></i>{{ title }}</h2>
      <p class="text-muted">{{ subtitle }}</p>
    </div>
  </div>

  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h5 class="mb-0">Clone Configuration</h5>
        </div>
        <div class="card-body">
          <form method="post">
            {% csrf_token %}
            
            <div class="mb-3">
              <label for="{{ form.clone_type.id_for_label }}" class="form-label">Clone Type</label>
              {{ form.clone_type }}
              <div class="form-text">Select the type of clone operation to perform.</div>
            </div>
            
            <div class="mb-3">
              <label for="{{ form.source_tenant.id_for_label }}" class="form-label">Source Tenant</label>
              {{ form.source_tenant }}
              <div class="form-text">Select the tenant to clone from.</div>
            </div>
            
            <div class="mb-3">
              <label for="{{ form.new_tenant_name.id_for_label }}" class="form-label">New Tenant Name</label>
              {{ form.new_tenant_name }}
              <div class="form-text">Enter the name for the new tenant.</div>
            </div>
            
            <div class="mb-3">
              <label for="{{ form.new_tenant_slug.id_for_label }}" class="form-label">New Tenant Slug</label>
              {{ form.new_tenant_slug }}
              <div class="form-text">{{ form.new_tenant_slug.help_text }}</div>
            </div>
            
            <div class="mb-3">
              <label for="{{ form.clone_description.id_for_label }}" class="form-label">Description</label>
              {{ form.clone_description }}
              <div class="form-text">{{ form.clone_description.help_text }}</div>
            </div>
            
            <div class="mb-3">
              <h6>What to Include:</h6>
              
              <div class="form-check mb-2">
                {{ form.include_users }}
                <label class="form-check-label" for="{{ form.include_users.id_for_label }}">
                  {{ form.include_users.label }}
                </label>
                <div class="form-text">{{ form.include_users.help_text }}</div>
              </div>
              
              <div class="form-check mb-2">
                {{ form.include_settings }}
                <label class="form-check-label" for="{{ form.include_settings.id_for_label }}">
                  {{ form.include_settings.label }}
                </label>
                <div class="form-text">{{ form.include_settings.help_text }}</div>
              </div>
              
              <div class="form-check mb-2">
                {{ form.include_data }}
                <label class="form-check-label" for="{{ form.include_data.id_for_label }}">
                  {{ form.include_data.label }}
                </label>
                <div class="form-text">{{ form.include_data.help_text }}</div>
              </div>
              
              <div class="form-check mb-2">
                {{ form.include_custom_fields }}
                <label class="form-check-label" for="{{ form.include_custom_fields.id_for_label }}">
                  {{ form.include_custom_fields.label }}
                </label>
                <div class="form-text">{{ form.include_custom_fields.help_text }}</div>
              </div>
            </div>
            
            <button type="submit" class="btn btn-primary">
              <i class="bi bi-people me-1"></i>Start Clone Process
            </button>
            <a href="{% url 'tenants:clone_history' %}" class="btn btn-secondary">View History</a>
          </form>
        </div>
      </div>
    </div>
    
    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h5 class="mb-0">Clone Information</h5>
        </div>
        <div class="card-body">
          <h6>Clone Types</h6>
          <ul>
            <li><strong>Full Copy</strong>: Complete copy of all data and settings</li>
            <li><strong>Template Based</strong>: Copy settings and configurations only</li>
            <li><strong>Minimal Setup</strong>: Basic tenant structure only</li>
            <li><strong>Data Migration</strong>: Copy specific data sets</li>
          </ul>
          
          <h6 class="mt-3">What Gets Cloned?</h6>
          <ul>
            <li>Tenant settings and branding</li>
            <li>Custom field definitions</li>
            <li>Business data (leads, opportunities, accounts, etc.)</li>
            <li>User accounts (with new credentials)</li>
          </ul>
          
          <div class="alert alert-info">
            <i class="bi bi-info-circle me-1"></i>
            The cloning process may take several minutes depending on the amount of data.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}